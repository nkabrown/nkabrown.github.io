<!DOCTYPE html>
<html lang="en">
  <head>
    <title>It&rsquo;s A Boy | US Birth Statistics</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="main.css" type="text/css">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css" />
    <link href="http://cloud.webtype.com/css/2c0af77d-8027-4a67-85c6-7f4cc41e348c.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="wrapper">
      <h1>2009 US Births</h1>
      <select name="Year" title="Work-In-Progress: Choice of
      year coming soon">
        <option value="2009">2009</option>
        <option value="2008">2008</option>
        <option value="2007">2007</option>
        <option value="2006">2006</option>
        <option value="2005">2005</option>
        <option value="2004">2004</option>
        <option value="2003">2003</option>
        <option value="2002">2002</option>
        <option value="2001">2001</option>
        <option value="2000">2000</option>
        <option value="1999">1999</option>
        <option value="1998">1998</option>
        <option value="1997">1997</option>
        <option value="1996">1996</option>
        <option value="1995">1995</option>
        <option value="1994">1994</option>
        <option value="1993">1993</option>
        <option value="1992">1992</option>
        <option value="1991">1991</option>
        <option value="1990">1990</option>
        <option value="1989">1989</option>
        <option value="1988">1988</option>
        <option value="1987">1987</option>
        <option value="1986">1986</option>
        <option value="1985">1985</option>
        <option value="1984">1984</option>
        <option value="1983">1983</option>
        <option value="1982">1982</option>
        <option value="1981">1981</option>
        <option value="1980">1980</option>
        <option value="1979">1979</option>
        <option value="1978">1978</option>
        <option value="1977">1977</option>
        <option value="1976">1976</option> 
        <option value="1975">1975</option>
        <option value="1974">1974</option>
        <option value="1973">1973</option>
        <option value="1972">1972</option>
        <option value="1971">1971</option>
        <option value="1970">1970</option>
        <option value="1969">1969</option>
      </select>
      <svg class="chart"></svg>
      <p class="citation">Source: United Nations Statistics Division; UNSD Demographic Statistics</p>
    </div>
    <script>
      $(document).ready(function() {

        $("select").tooltip({
          position: { my: "center bottom-20px", at: "center center" }
        });
        $(".bar").tooltip({
          position: { my: "left-1 bottom-10", at: "center center" }
        });
      });

      var data = [
          {month: "JAN", value: 337980},
          {month: "FEB", value: 316641},
          {month: "MAR", value: 347803},
          {month: "APR", value: 337272},
          {month: "MAY", value: 345257},
          {month: "JUN", value: 346971},
          {month: "JUL", value: 368450},
          {month: "AUG", value: 359554},
          {month: "SEP", value: 361922},
          {month: "OCT", value: 347625},
          {month: "NOV", value: 320195},
          {month: "DEC", value: 340995}
        ];

      var width = 960,
          height = 500;

      var margin = {top: 20, right: 20, bottom: 30, left: 50},
          width = 960 - margin.left - margin.right,
          height = 500 - margin.top -margin.bottom;
  
      var x = d3.scale.ordinal()
          .domain(data.map(function(d) { return d.month; }))
          .rangeRoundBands([0, width], .1);

      var y = d3.scale.linear()
          .domain([0, d3.max(data, function(d) { return d.value; })])
          .range([height, 0]);

      var xAxis = d3.svg.axis()
          .scale(x)
          .orient("bottom");

      var yAxis = d3.svg.axis()
          .scale(y)
          .orient("left");

      var chart = d3.select(".chart")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
        .append("g")
          .attr("transform", "translate(" + margin.left + "," + margin.top +
              ")");

      chart.append("g")
          .attr("class", "x axis")
          .attr("transform", "translate(0," + height + ")")
          .call(xAxis);

      chart.append("g")
          .attr("class", "y axis")
          .call(yAxis);

      chart.selectAll("bar")
          .data(data)
        .enter().append("rect")
          .attr("class", "bar")
          .attr("title", function(d) { return d.value; })
          .attr("x", function(d) { return x(d.month); })
          .attr("y", function(d) { return y(d.value); })
          .attr("height", function(d) { return height - y(d.value); })
          .attr("width", x.rangeBand());
    </script>
    <style>
      .ui-tooltip {
        font-family: "Input Mono", sans-serif;
        font-size: 0.8em;
        color: #444;
        text-align: center;
        border: none;
        box-shadow: none;
        background: rgba(255, 255, 255, 0.5);
        margin-bottom: 1em;
      }
    </style>
  </body>
</html>
